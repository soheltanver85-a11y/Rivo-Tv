<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Live TV - Toffee Style</title>
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <style>
        :root { --main-color: #ff0055; --bg-black: #0a0a0a; --card-bg: #1a1a1a; }
        body, html { margin: 0; padding: 0; background-color: var(--bg-black); color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

        /* ‡¶™‡ßç‡¶≤‡ßá‡ßü‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
        .player-box { width: 100%; height: 40vh; background: #000; position: sticky; top: 0; z-index: 100; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .video-js { width: 100% !important; height: 100% !important; }

        /* ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü */
        .content-area { padding: 15px; overflow-y: auto; height: 60vh; }
        .category-title { font-size: 18px; font-weight: bold; margin: 20px 0 10px 5px; color: #eee; display: flex; justify-content: space-between; }
        .category-title span { color: var(--main-color); font-size: 14px; cursor: pointer; }

        /* ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶∞‡ßã (Row) ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .channel-row { display: flex; overflow-x: auto; white-space: nowrap; gap: 15px; padding-bottom: 10px; }
        .channel-row::-webkit-scrollbar { display: none; } /* ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤‡¶¨‡¶æ‡¶∞ ‡¶π‡¶æ‡¶á‡¶° */

        /* ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® (‡¶π‡ßÅ‡¶¨‡¶π‡ßÅ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶ó‡ßã‡¶≤ ‡¶≤‡ßã‡¶ó‡ßã) */
        .channel-card { width: 90px; text-align: center; flex: 0 0 auto; cursor: pointer; }
        .logo-wrapper { 
            width: 80px; height: 80px; background: white; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; 
            margin: 0 auto; border: 3px solid transparent; transition: 0.3s;
            overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .channel-card:hover .logo-wrapper { border-color: var(--main-color); transform: scale(1.1); }
        .channel-logo { width: 70%; height: auto; object-fit: contain; }
        .channel-name { margin-top: 8px; font-size: 12px; color: #ccc; overflow: hidden; text-overflow: ellipsis; }

        /* ‡¶¨‡¶ü‡¶Æ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® (‡¶ü‡¶ø‡¶≠‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡¶∂‡¶®‡¶æ‡¶≤ ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞) */
        .bottom-nav { 
            position: fixed; bottom: 0; width: 100%; height: 60px; 
            background: #111; display: flex; justify-content: space-around; 
            align-items: center; border-top: 1px solid #222; z-index: 200;
        }
        .nav-item { text-align: center; font-size: 10px; color: #888; }
        .nav-item i { display: block; font-size: 20px; margin-bottom: 3px; }
        .active-nav { color: var(--main-color); }

        /* ‡¶ü‡¶ø‡¶≠‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßú ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶ú‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü */
        @media (min-width: 1024px) {
            .player-box { height: 70vh; }
            .content-area { height: 30vh; }
            .channel-card { width: 120px; }
            .logo-wrapper { width: 100px; height: 100px; }
        }
    </style>
</head>
<body>

    <div class="player-box">
        <video id="main-player" class="video-js vjs-big-play-centered" controls autoplay preload="auto">
            <p class="vjs-no-js">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§</p>
        </video>
    </div>

    <div class="content-area" id="content-list">
        <div class="category-title">All Channels <span>View All ></span></div>
        <div class="channel-row" id="all-channels">
            <div style="padding: 20px; color: #666;">‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item">üè†<br>Home</div>
        <div class="nav-item active-nav">üì∫<br>Live</div>
        <div class="nav-item">üëë<br>Premium</div>
        <div class="nav-item">üé¨<br>Movies</div>
    </div>

    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
    <script>
        const m3uUrl = 'https://raw.githubusercontent.com/soheltanver85-a11y/Live-tv2/refs/heads/main/Live-tv2';
        const player = videojs('main-player');

        async function loadToffeeStyle() {
            try {
                const response = await fetch(m3uUrl);
                const data = await response.text();
                const lines = data.split('\n');
                const container = document.getElementById('all-channels');
                container.innerHTML = '';

                let currentName = '';
                let currentLogo = '';

                lines.forEach(line => {
                    if (line.startsWith('#EXTINF')) {
                        const nameMatch = line.split(',')[1];
                        const logoMatch = line.match(/tvg-logo="(.*?)"/);
                        currentName = nameMatch ? nameMatch.trim() : 'TV';
                        currentLogo = logoMatch ? logoMatch[1] : 'https://via.placeholder.com/80?text=TV';
                    } else if (line.startsWith('http')) {
                        const url = line.trim();
                        
                        // ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶§‡ßà‡¶∞‡¶ø
                        const card = document.createElement('div');
                        card.className = 'channel-card';
                        card.innerHTML = `
                            <div class="logo-wrapper">
                                <img src="${currentLogo}" class="channel-logo" onerror="this.src='https://via.placeholder.com/80?text=TV'">
                            </div>
                            <div class="channel-name">${currentName}</div>
                        `;
                        
                        card.onclick = () => {
                            player.src({ src: url, type: 'application/x-mpegURL' });
                            player.play();
                            window.scrollTo({top: 0, behavior: 'smooth'});
                        };
                        
                        container.appendChild(card);
                    }
                });
            } catch (e) {
                console.error("Error loading M3U", e);
            }
        }

        loadToffeeStyle();
    </script>
</body>
</html>
