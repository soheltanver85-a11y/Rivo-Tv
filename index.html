<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite TV Pro - World Class UI</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #e50914; /* Netflix Red */
            --bg-dark: #0a0a0a;
            --glass: rgba(255, 255, 255, 0.08);
            --glass-focus: rgba(255, 255, 255, 0.2);
            --text-main: #ffffff;
            --text-dim: #b3b3b3;
        }

        body, html {
            margin: 0; padding: 0; background: var(--bg-dark);
            color: var(--text-main); font-family: 'Poppins', sans-serif;
            overflow: hidden; height: 100vh;
        }

        /* ‡ßß. ‡¶Æ‡ßá‡¶á‡¶® ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü: ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ + ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü */
        .app-container { display: flex; height: 100vh; width: 100vw; }

        /* ‡ß®. ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∏‡¶æ‡¶á‡¶° ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® */
        .sidebar {
            width: 100px; background: rgba(0, 0, 0, 0.8);
            display: flex; flex-direction: column; align-items: center;
            padding-top: 40px; border-right: 1px solid rgba(255,255,255,0.1);
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 100;
        }
        .sidebar:focus-within { width: 220px; }
        .nav-item {
            width: 80%; padding: 15px; margin-bottom: 20px; border-radius: 12px;
            text-align: center; cursor: pointer; outline: none; transition: 0.3s;
            display: flex; align-items: center; justify-content: center; gap: 15px;
        }
        .nav-item span { display: none; font-weight: 500; }
        .sidebar:focus-within .nav-item span { display: inline; }
        .nav-item:focus { background: var(--primary); transform: scale(1.1); }

        /* ‡ß©. ‡¶∞‡¶æ‡¶á‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ (‡¶≠‡¶ø‡¶°‡¶ø‡¶ì + ‡¶ó‡ßç‡¶∞‡¶ø‡¶°) */
        .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }

        /* ‡ß™. ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡ßü‡¶æ‡¶Æ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶≤‡ßá‡ßü‡¶æ‡¶∞ */
        .video-box {
            position: relative; width: 100%; height: 55%;
            background: #000; overflow: hidden;
            box-shadow: inset 0 -50px 100px rgba(0,0,0,0.9);
        }
        video { width: 100%; height: 100%; object-fit: cover; }
        
        .video-overlay {
            position: absolute; bottom: 0; left: 0; width: 100%;
            padding: 40px; background: linear-gradient(transparent, var(--bg-dark));
        }

        /* ‡ß´. ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶æ‡¶∞ */
        .search-area {
            position: absolute; top: 30px; right: 40px; z-index: 10;
        }
        .search-input {
            background: var(--glass); border: 1px solid rgba(255,255,255,0.2);
            padding: 12px 25px; border-radius: 30px; color: white;
            outline: none; width: 200px; transition: 0.4s;
        }
        .search-input:focus { width: 400px; background: var(--glass-focus); border-color: var(--primary); }

        /* ‡ß¨. ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶ó‡ßç‡¶∞‡¶ø‡¶° */
        .channel-section {
            flex: 1; padding: 0 40px; overflow-y: auto;
            mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
        }
        .row-header { font-size: 24px; font-weight: 700; margin: 20px 0; color: var(--text-main); }
        
        .grid-container {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 25px; padding-bottom: 100px;
        }

        /* ‡ß≠. ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶≤‡ßç‡¶° ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .card {
            background: var(--glass); border-radius: 15px; padding: 20px;
            text-align: center; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255,255,255,0.05); outline: none;
        }
        .card:focus {
            transform: translateY(-15px) scale(1.1);
            background: var(--glass-focus);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
        }
        .card img {
            width: 100px; height: 100px; object-fit: contain;
            margin-bottom: 15px; filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
        }
        .card .name { font-size: 16px; font-weight: 500; color: var(--text-dim); }
        .card:focus .name { color: white; }

        /* ‡¶ì‡¶è‡¶∏‡¶°‡¶ø */
        #osd {
            position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%);
            background: var(--primary); padding: 12px 30px; border-radius: 50px;
            font-weight: bold; box-shadow: 0 10px 20px rgba(0,0,0,0.4); display: none; z-index: 1000;
        }

        .channel-section::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="sidebar">
            <div class="nav-item" tabindex="1" onclick="filterCat('All')">üè† <span>Home</span></div>
            <div class="nav-item" tabindex="1" onclick="filterCat('‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ')">üáßüá© <span>Bangla</span></div>
            <div class="nav-item" tabindex="1" onclick="filterCat('‡¶π‡¶ø‡¶®‡ßç‡¶¶‡¶ø')">üáÆüá≥ <span>Hindi</span></div>
            <div class="nav-item" tabindex="1" onclick="filterCat('Sports')">‚öΩ <span>Sports</span></div>
        </div>

        <div class="main-content">
            <div class="video-box">
                <div class="search-area">
                    <input type="text" id="search" class="search-input" placeholder="Search Channels..." tabindex="1" oninput="doSearch()">
                </div>
                <video id="main-player" autoplay controls></video>
                <div class="video-overlay">
                    <h1 id="playing-title" style="margin:0; font-size: 32px;">Welcome to Elite TV</h1>
                    <p id="playing-cat" style="color: var(--text-dim); margin: 5px 0;">Select a channel to start streaming</p>
                </div>
            </div>

            <div class="channel-section">
                <div class="row-header">Featured Channels</div>
                <div class="grid-container" id="grid">
                    </div>
            </div>
        </div>
    </div>

    <div id="osd">Channel Changed</div>

    <script>
        const m3uUrl = 'https://raw.githubusercontent.com/soheltanver85-a11y/Live-tv2/refs/heads/main/Live-tv2';
        const video = document.getElementById('main-player');
        let allChannels = [];

        async function init() {
            try {
                const res = await fetch(m3uUrl);
                const data = await res.text();
                parseM3U(data);
                render(allChannels);
            } catch (e) { showOSD("Failed to load list!"); }
        }

        function parseM3U(data) {
            const lines = data.split('\n');
            let item = {};
            lines.forEach(line => {
                if (line.startsWith('#EXTINF')) {
                    item.name = line.split(',')[1]?.trim() || "TV Channel";
                    item.logo = line.match(/tvg-logo="(.*?)"/)?.[1] || "";
                    item.group = line.match(/group-title="(.*?)"/)?.[1] || "All";
                } else if (line.startsWith('http')) {
                    item.url = line.trim();
                    allChannels.push({...item});
                    item = {};
                }
            });
        }

        function render(list) {
            const container = document.getElementById('grid');
            container.innerHTML = list.map((ch, idx) => `
                <div class="card" tabindex="2" onclick="playCh('${ch.url}', '${ch.name}', '${ch.group}')">
                    <img src="${ch.logo}" onerror="this.src='https://via.placeholder.com/150/222/fff?text=TV'">
                    <div class="name">${ch.name}</div>
                </div>
            `).join('');
        }

        function playCh(url, name, group) {
            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
            } else {
                video.src = url;
                video.play();
            }
            document.getElementById('playing-title').innerText = name;
            document.getElementById('playing-cat').innerText = "Category: " + group;
            showOSD("Streaming: " + name);
        }

        function filterCat(cat) {
            const result = (cat === 'All') ? allChannels : allChannels.filter(c => 
                c.group.toLowerCase().includes(cat.toLowerCase()) || 
                c.name.toLowerCase().includes(cat.toLowerCase())
            );
            render(result);
        }

        function doSearch() {
            const q = document.getElementById('search').value.toLowerCase();
            const result = allChannels.filter(c => c.name.toLowerCase().includes(q));
            render(result);
        }

        function showOSD(msg) {
            const osd = document.getElementById('osd');
            osd.innerText = msg; osd.style.display = 'block';
            setTimeout(() => osd.style.display = 'none', 3000);
        }

        // ‡¶∞‡¶ø‡¶Æ‡ßã‡¶ü ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶Ö‡¶ü‡ßã-‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤
        document.addEventListener('keydown', (e) => {
            if(e.key === 'Enter') document.activeElement.click();
            
            setTimeout(() => {
                const focused = document.activeElement;
                if(focused.classList.contains('card')) {
                    focused.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }, 50);
        });

        init();
    </script>
</body>
</html>
